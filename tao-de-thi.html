<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T·∫°o ƒë·ªÅ thi t·ª± luy·ªán - EduPass</title>
    <link rel="icon" type="image/png" href="assets/logo.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="tao-de-thi.css">
    <link rel="stylesheet" href="edupass-ai.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="logo">
                <img src="assets/logo.png" alt="EduPass Logo" class="logo-img">
                <span class="logo-text">EduPass</span>
            </a>
            <ul class="nav-menu">
                <li><a href="index.html">Trang ch·ªß</a></li>
                <li><a href="tai-lieu.html">Kho t√†i li·ªáu</a></li>
                <li><a href="luyen-thi.html">Luy·ªán thi</a></li>
                <li><a href="dang-nhap.html">ƒêƒÉng nh·∫≠p</a></li>
                <li><a href="dang-ky.html" class="btn-primary">ƒêƒÉng k√Ω</a></li>
            </ul>
        </div>
    </nav>

    <section class="create-exam-page">
        <div class="container">
            <div class="page-title">
                <h1>‚ú® T·∫°o ƒë·ªÅ thi t·ª± luy·ªán</h1>
                <p>T·ª± t·∫°o ƒë·ªÅ thi, l√†m b√†i online v√† luy·ªán t·∫≠p c√° nh√¢n</p>
            </div>

            <!-- H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng -->
            <div class="guide-section">
                <button class="guide-toggle" onclick="toggleGuide()">
                    üìñ C√°ch t·∫°o ƒë·ªÅ thi t·ª± luy·ªán tr√™n EduPass
                    <span class="toggle-icon">‚ñº</span>
                </button>
                <div class="guide-content" id="guideContent">
                    <div class="guide-steps">
                        <div class="guide-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Nh·∫≠p th√¥ng tin ƒë·ªÅ thi</h4>
                                <p>ƒêi·ªÅn t√™n ƒë·ªÅ, ch·ªçn l·ªõp, m√¥n h·ªçc v√† ch·ªß ƒë·ªÅ (n·∫øu c√≥)</p>
                            </div>
                        </div>
                        <div class="guide-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Ch·ªçn c√°ch t·∫°o ƒë·ªÅ</h4>
                                <ul>
                                    <li><strong>Th√™m c√¢u h·ªèi tr·∫Øc nghi·ªám tr·ª±c ti·∫øp</strong></li>
                                    <li><strong>Ho·∫∑c d√πng AI ƒë·ªÉ t·∫°o c√¢u h·ªèi t·ª´ file ƒë·ªÅ</strong></li>
                                </ul>
                            </div>
                        </div>
                        <div class="guide-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Thi·∫øt l·∫≠p ƒë·ªÅ thi</h4>
                                <ul>
                                    <li>S·ªë c√¢u h·ªèi</li>
                                    <li>Th·ªùi gian l√†m b√†i</li>
                                    <li>M·ª©c ƒë·ªô ƒë·ªÅ</li>
                                    <li>B·∫≠t/t·∫Øt xem ƒë√°p √°n sau khi n·ªôp</li>
                                </ul>
                            </div>
                        </div>
                        <div class="guide-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h4>Xem tr∆∞·ªõc ƒë·ªÅ</h4>
                                <p>Nh·∫•n <strong>"Xem tr∆∞·ªõc ƒë·ªÅ"</strong> ƒë·ªÉ ki·ªÉm tra n·ªôi dung</p>
                            </div>
                        </div>
                        <div class="guide-step">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h4>B·∫Øt ƒë·∫ßu l√†m b√†i</h4>
                                <p>Nh·∫•n <strong>"B·∫Øt ƒë·∫ßu l√†m b√†i"</strong> ƒë·ªÉ luy·ªán t·∫≠p ngay</p>
                            </div>
                        </div>
                    </div>

                    <div class="guide-notes">
                        <h4>‚≠ê L∆ØU √ù CHO H·ªåC VI√äN</h4>
                        <ul>
                            <li>‚úÖ C√≥ th·ªÉ l∆∞u ƒë·ªÅ ƒë·ªÉ l√†m l·∫°i nhi·ªÅu l·∫ßn</li>
                            <li>‚úÖ N√™n b·∫≠t x√°o tr·ªôn c√¢u h·ªèi ƒë·ªÉ luy·ªán hi·ªáu qu·∫£ h∆°n</li>
                            <li>‚úÖ Sau khi n·ªôp b√†i, h·ªá th·ªëng s·∫Ω hi·ªÉn th·ªã ƒëi·ªÉm v√† ƒë√°p √°n</li>
                            <li>‚úÖ D·ªØ li·ªáu ƒë·ªÅ thi ƒë∆∞·ª£c l∆∞u trong t√†i kho·∫£n c√° nh√¢n</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- ƒê·ªÅ thi ƒë√£ l∆∞u -->
            <div class="saved-exams-section" id="savedExamsSection" style="display: none;">
                <div class="section-header">
                    <h2>üìö ƒê·ªÅ thi ƒë√£ l∆∞u c·ªßa b·∫°n</h2>
                    <p>Nh·∫•n v√†o ƒë·ªÅ ƒë·ªÉ l√†m l·∫°i</p>
                </div>
                <div class="saved-exams-grid" id="savedExamsGrid"></div>
            </div>

            <div class="exam-creator-layout">
                <!-- Left Column: Form -->
                <div class="creator-main">
                    <!-- 1. TH√îNG TIN ƒê·ªÄ THI -->
                    <div class="creator-card">
                        <div class="card-header">
                            <span class="card-icon">üß©</span>
                            <h2>Th√¥ng tin ƒë·ªÅ thi</h2>
                        </div>
                        <div class="card-body">
                            <div class="form-group">
                                <label>T√™n ƒë·ªÅ thi <span class="required">*</span></label>
                                <input type="text" id="examName" class="form-input" placeholder="V√≠ d·ª•: Luy·ªán To√°n ch∆∞∆°ng H√†m s·ªë" required>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>L·ªõp <span class="required">*</span></label>
                                    <select id="examGrade" class="form-select" required>
                                        <option value="">-- Ch·ªçn l·ªõp --</option>
                                        <option value="10">10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label>M√¥n h·ªçc <span class="required">*</span></label>
                                    <select id="examSubject" class="form-select" required>
                                        <option value="">-- Ch·ªçn m√¥n --</option>
                                        <option value="toan">To√°n</option>
                                        <option value="van">VƒÉn</option>
                                        <option value="anh">Anh</option>
                                        <option value="ly">L√Ω</option>
                                        <option value="hoa">H√≥a</option>
                                        <option value="sinh">Sinh</option>
                                        <option value="su">S·ª≠</option>
                                        <option value="dia">ƒê·ªãa</option>
                                        <option value="gdcd">GDCD</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Ch·ªß ƒë·ªÅ <span class="optional">(tu·ª≥ ch·ªçn)</span></label>
                                <input type="text" id="examTopic" class="form-input" placeholder="V√≠ d·ª•: Dao ƒë·ªông, H√†m s·ªë, Th√¨ ti·∫øng Anh">
                            </div>
                        </div>
                    </div>

                    <!-- 2. C√ÅCH T·∫†O ƒê·ªÄ -->
                    <div class="creator-card">
                        <div class="card-header">
                            <span class="card-icon">üìù</span>
                            <h2>C√°ch t·∫°o ƒë·ªÅ</h2>
                        </div>
                        <div class="card-body">
                            <div class="create-method-tabs">
                                <button class="tab-btn active" data-tab="manual">
                                    ‚úçÔ∏è T·∫°o c√¢u h·ªèi nhanh
                                </button>
                                <button class="tab-btn" data-tab="ai">
                                    ü§ñ D√°n t·ª´ AI
                                </button>
                            </div>

                            <!-- Tab 1: Manual Questions -->
                            <div class="tab-content active" id="manual-tab">
                                <button class="btn-add-question" onclick="openQuestionModal()">
                                    ‚ûï Th√™m c√¢u h·ªèi
                                </button>
                                <div id="questionsList" class="questions-list">
                                    <p class="empty-state">Ch∆∞a c√≥ c√¢u h·ªèi n√†o. Nh·∫•n "Th√™m c√¢u h·ªèi" ƒë·ªÉ b·∫Øt ƒë·∫ßu!</p>
                                </div>
                            </div>

                            <!-- Tab 2: AI Paste -->
                            <div class="tab-content" id="ai-tab">
                                <div class="ai-paste-section">
                                    <div class="ai-instructions">
                                        <h4>ü§ñ H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng AI ƒë·ªÉ t·∫°o c√¢u h·ªèi</h4>
                                        <div class="instruction-steps">
                                            <div class="step">
                                                <span class="step-number">1</span>
                                                <div class="step-content">
                                                    <strong>Copy prompt n√†y v√† d√°n v√†o Groq/Claude/ChatGPT:</strong>
                                                    <div class="prompt-box">
                                                        <button class="btn-copy-prompt" onclick="copyPrompt()">üìã Copy Prompt</button>
                                                        <pre id="aiPrompt">H√£y chuy·ªÉn ƒë·ªïi ƒë·ªÅ thi sau th√†nh ƒë·ªãnh d·∫°ng JSON v·ªõi c·∫•u tr√∫c:
[
  {
    "content": "N·ªôi dung c√¢u h·ªèi",
    "answers": {
      "A": "ƒê√°p √°n A",
      "B": "ƒê√°p √°n B",
      "C": "ƒê√°p √°n C",
      "D": "ƒê√°p √°n D"
    },
    "correct": "A"
  }
]

ƒê·ªÅ thi c·ªßa t√¥i:
[D√°n n·ªôi dung ƒë·ªÅ thi c·ªßa b·∫°n v√†o ƒë√¢y]</pre>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="step">
                                                <span class="step-number">2</span>
                                                <div class="step-content">
                                                    <strong>ƒê√≠nh k√®m file ƒë·ªÅ thi c·ªßa b·∫°n (PDF, ·∫£nh, Word)</strong>
                                                    <p>AI s·∫Ω ƒë·ªçc file v√† chuy·ªÉn ƒë·ªïi th√†nh JSON</p>
                                                </div>
                                            </div>
                                            
                                            <div class="step">
                                                <span class="step-number">3</span>
                                                <div class="step-content">
                                                    <strong>Copy k·∫øt qu·∫£ JSON t·ª´ AI v√† d√°n v√†o √¥ b√™n d∆∞·ªõi:</strong>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="ai-paste-area">
                                        <label for="aiJsonInput">D√°n JSON t·ª´ AI v√†o ƒë√¢y:</label>
                                        <textarea id="aiJsonInput" class="json-input" rows="15" placeholder='[
  {
    "content": "C√¢u h·ªèi 1?",
    "answers": {
      "A": "ƒê√°p √°n A",
      "B": "ƒê√°p √°n B",
      "C": "ƒê√°p √°n C",
      "D": "ƒê√°p √°n D"
    },
    "correct": "A"
  }
]'></textarea>
                                        <div class="ai-actions">
                                            <button class="btn-action btn-validate" onclick="validateAndImportJSON()">
                                                ‚úÖ Ki·ªÉm tra & Nh·∫≠p c√¢u h·ªèi
                                            </button>
                                            <button class="btn-action btn-clear-json" onclick="clearJSON()">
                                                üóëÔ∏è X√≥a
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 3. C√ÄI ƒê·∫∂T ƒê·ªÄ -->
                    <div class="creator-card">
                        <div class="card-header">
                            <span class="card-icon">‚öôÔ∏è</span>
                            <h2>C√†i ƒë·∫∑t ƒë·ªÅ</h2>
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>S·ªë c√¢u h·ªèi</label>
                                    <input type="number" id="questionCount" class="form-input" min="5" max="100" value="20">
                                </div>

                                <div class="form-group">
                                    <label>Th·ªùi gian (ph√∫t)</label>
                                    <input type="number" id="examDuration" class="form-input" min="10" max="180" value="45">
                                </div>
                            </div>

                            <div class="form-group">
                                <label>M·ª©c ƒë·ªô</label>
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="difficulty" value="easy" checked>
                                        <span>C∆° b·∫£n</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="difficulty" value="medium">
                                        <span>Trung b√¨nh</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="difficulty" value="hard">
                                        <span>N√¢ng cao</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="difficulty" value="mixed">
                                        <span>T·ªïng h·ª£p</span>
                                    </label>
                                </div>
                            </div>

                            <div class="toggle-group">
                                <div class="toggle-item">
                                    <label class="toggle-label">
                                        <input type="checkbox" id="shuffleQuestions" class="toggle-input">
                                        <span class="toggle-slider"></span>
                                        <span class="toggle-text">X√°o tr·ªôn c√¢u h·ªèi</span>
                                    </label>
                                </div>

                                <div class="toggle-item">
                                    <label class="toggle-label">
                                        <input type="checkbox" id="showAnswers" class="toggle-input" checked>
                                        <span class="toggle-slider"></span>
                                        <span class="toggle-text">Xem ƒë√°p √°n sau khi n·ªôp</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Actions & Preview -->
                <div class="creator-sidebar">
                    <div class="action-card sticky">
                        <h3>üöÄ H√†nh ƒë·ªông</h3>
                        <div class="action-buttons">
                            <button class="btn-action btn-preview" onclick="previewExam()">
                                üëÅÔ∏è Xem tr∆∞·ªõc ƒë·ªÅ
                            </button>
                            <button class="btn-action btn-save" onclick="saveExam()">
                                üíæ L∆∞u ƒë·ªÅ
                            </button>
                            <button class="btn-action btn-start" onclick="startExam()">
                                ‚ñ∂Ô∏è B·∫Øt ƒë·∫ßu l√†m b√†i
                            </button>
                        </div>

                        <div class="exam-summary">
                            <h4>üìä T√≥m t·∫Øt</h4>
                            <div class="summary-item">
                                <span>S·ªë c√¢u:</span>
                                <strong id="summaryQuestions">0</strong>
                            </div>
                            <div class="summary-item">
                                <span>Th·ªùi gian:</span>
                                <strong id="summaryTime">45 ph√∫t</strong>
                            </div>
                            <div class="summary-item">
                                <span>M·ª©c ƒë·ªô:</span>
                                <strong id="summaryDifficulty">C∆° b·∫£n</strong>
                            </div>
                        </div>

                        <div class="quick-tips">
                            <h4>üí° M·∫πo nh·ªè</h4>
                            <ul>
                                <li>Th√™m √≠t nh·∫•t 10 c√¢u h·ªèi ƒë·ªÉ ƒë·ªÅ thi hi·ªáu qu·∫£</li>
                                <li>B·∫≠t x√°o tr·ªôn ƒë·ªÉ tr√°nh h·ªçc v·∫πt</li>
                                <li>ƒê·∫∑t th·ªùi gian h·ª£p l√Ω: 2-3 ph√∫t/c√¢u</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal th√™m c√¢u h·ªèi -->
    <div id="questionModal" class="modal-overlay" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <h3>‚ûï Th√™m c√¢u h·ªèi</h3>
                <button class="modal-close" onclick="closeQuestionModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>N·ªôi dung c√¢u h·ªèi <span class="required">*</span></label>
                    <textarea id="questionContent" class="form-textarea" rows="3" placeholder="Nh·∫≠p n·ªôi dung c√¢u h·ªèi..." required></textarea>
                </div>

                <div class="answers-section">
                    <label>ƒê√°p √°n</label>
                    <div class="answer-item">
                        <input type="radio" name="correctAnswer" value="A" id="correctA">
                        <label for="correctA" class="answer-label">A</label>
                        <input type="text" id="answerA" class="answer-input" placeholder="Nh·∫≠p ƒë√°p √°n A" required>
                    </div>
                    <div class="answer-item">
                        <input type="radio" name="correctAnswer" value="B" id="correctB">
                        <label for="correctB" class="answer-label">B</label>
                        <input type="text" id="answerB" class="answer-input" placeholder="Nh·∫≠p ƒë√°p √°n B" required>
                    </div>
                    <div class="answer-item">
                        <input type="radio" name="correctAnswer" value="C" id="correctC">
                        <label for="correctC" class="answer-label">C</label>
                        <input type="text" id="answerC" class="answer-input" placeholder="Nh·∫≠p ƒë√°p √°n C" required>
                    </div>
                    <div class="answer-item">
                        <input type="radio" name="correctAnswer" value="D" id="correctD">
                        <label for="correctD" class="answer-label">D</label>
                        <input type="text" id="answerD" class="answer-input" placeholder="Nh·∫≠p ƒë√°p √°n D" required>
                    </div>
                </div>

                <p class="hint-text">üí° Ch·ªçn radio button b√™n tr√°i ƒë·ªÉ ƒë√°nh d·∫•u ƒë√°p √°n ƒë√∫ng</p>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" onclick="closeQuestionModal()">Hu·ª∑</button>
                <button class="btn-confirm" onclick="saveQuestion()">‚úÖ L∆∞u c√¢u h·ªèi</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <img src="assets/logo.png" alt="EduPass Logo" class="footer-logo">
                    <div class="footer-description">
                        <h4>EduPass</h4>
                        <p>N·ªÅn t·∫£ng h·ªçc t·∫≠p tr·ª±c tuy·∫øn v·ªõi kho ƒë·ªÅ thi v√† t√†i li·ªáu phong ph√∫.</p>
                    </div>
                </div>
                <div class="footer-center">
                    <div class="footer-links">
                        <a href="index.html" class="footer-link">Trang ch·ªß</a>
                        <a href="tai-lieu.html" class="footer-link">Kho t√†i li·ªáu</a>
                        <a href="luyen-thi.html" class="footer-link">Luy·ªán thi</a>
                        <a href="tao-de-thi.html" class="footer-link">T·∫°o ƒë·ªÅ thi</a>
                    </div>
                    <p>
                        <a href="cau-chuyen.html" class="footer-link">C√¢u chuy·ªán EduPass</a> | 
                        <a href="hanh-trinh-edupass.html" class="footer-link">H√†nh tr√¨nh EduPass</a>
                    </p>
                </div>
                <div class="footer-contact-col">
                    <h4>Li√™n h·ªá</h4>
                    <p>üìß <a href="mailto:trcuong12112008@gmail.com">trcuong12112008@gmail.com</a></p>
                    <p>üì± <a href="tel:0348908243">0348 908 243</a></p>
                    <p>üì± <a href="tel:0876422788">0876 422 788</a></p>
                </div>
                <div class="footer-right">
                    <p>&copy; 2026 EduPass. All rights reserved.</p>
                    <p class="footer-tagline">Learn today. Pass tomorrow.</p>
                    <p class="footer-description-text">EduPass ‚Äì N·ªÅn t·∫£ng h·ªçc t·∫≠p th√¥ng minh cho h·ªçc sinh THPT</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>M·ªôt s·∫£n ph·∫©m do nh√≥m h·ªçc sinh Tr∆∞·ªùng THCS-THPT H√≤a B√¨nh th·ª±c hi·ªán.</p>
                <p class="footer-thank-you">C·∫£m ∆°n b·∫°n ƒë√£ l·ª±a ch·ªçn ƒë·ªìng h√†nh c√πng EduPass. N·∫øu tr·∫£i nghi·ªám ch∆∞a th·∫≠t s·ª± ho√†n h·∫£o, ch√∫ng t√¥i xin l·ªói v√† s·∫Ω kh√¥ng ng·ª´ng ho√†n thi·ªán ƒë·ªÉ mang ƒë·∫øn m√¥i tr∆∞·ªùng h·ªçc t·∫≠p t·ªët h∆°n, gi√∫p b·∫°n t·ª± tin ti·∫øn g·∫ßn h∆°n t·ªõi m·ª•c ti√™u c·ªßa m√¨nh.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="tao-de-thi.js"></script>
    <script src="edupass-ai.js"></script>
</body>
</html>
